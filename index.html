<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¿åºœçµ±åˆç”³è«‹ãƒãƒ¼ã‚¿ãƒ«</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
        :root { --primary: #0f172a; --bg: #f1f5f9; --card-bg: #ffffff; --text: #1e293b; --accent: #3b82f6; }
        body { font-family: 'Noto Sans JP', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { width: 100%; max-width: 900px; margin: 20px; background: var(--card-bg); border-radius: 16px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .header { background: var(--primary); color: white; padding: 30px; text-align: center; }
        .header h1 { margin: 0; font-size: 1.5rem; letter-spacing: 0.1em; }
        .content { padding: 30px; min-height: 500px; }
        .grid-menu { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; }
        .menu-card { background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; padding: 25px 15px; text-align: center; cursor: pointer; transition: 0.2s; display: flex; flex-direction: column; align-items: center; gap: 15px; }
        .menu-card:hover { border-color: var(--accent); background: #eff6ff; transform: translateY(-5px); }
        .menu-card .icon { font-size: 2.5rem; }
        .menu-card span { font-weight: 700; color: var(--primary); }
        .form-view { display: none; }
        .back-btn { color: var(--accent); font-weight: bold; cursor: pointer; margin-bottom: 20px; border: none; background: none; font-size: 1rem; }
        .form-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 25px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; font-size: 0.9rem; font-weight: 700; margin-bottom: 8px; }
        input, textarea, select { width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px; font-size: 1rem; box-sizing: border-box; }
        .submit-btn { width: 100%; padding: 16px; background: var(--primary); color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: 700; cursor: pointer; }
        #status-msg { display: none; padding: 15px; border-radius: 8px; text-align: center; margin-bottom: 20px; font-weight: bold; font-size: 0.9rem; white-space: pre-wrap; }
        .success { background: #dcfce7; color: #166534; }
        .error { background: #fee2e2; color: #991b1b; }
        footer { background: #f8fafc; padding: 20px; text-align: center; font-size: 0.8rem; color: #94a3b8; border-top: 1px solid #e2e8f0; }
    </style>
</head>
<body>

<div class="container">
    <div class="header"><h1>æ”¿åºœçµ±åˆç”³è«‹ãƒãƒ¼ã‚¿ãƒ«</h1></div>
    <div class="content">
        <div id="status-msg"></div>
        <div id="menu-view" class="grid-menu">
            <div class="menu-card" onclick="openForm('building')"><div class="icon">ğŸ—ï¸</div><span>å»ºç¯‰å±Š</span></div>
            <div class="menu-card" onclick="openForm('shop')"><div class="icon">ğŸ’°</div><span>åº—èˆ—é–‹è¨­</span></div>
            <div class="menu-card" onclick="openForm('pioneer')"><div class="icon">ğŸŒ²</div><span>é–‹æ‹“å±Š</span></div>
            <div class="menu-card" onclick="openForm('disclosure')"><div class="icon">ğŸ“‚</div><span>æƒ…å ±é–‹ç¤º</span></div>
        </div>
        <div id="form-view" class="form-view">
            <button class="back-btn" onclick="showMenu()">â† æˆ»ã‚‹</button>
            <div id="form-container"></div>
        </div>
    </div>
    <footer>&copy; Minecraft Server Government</footer>
</div>

<script>
    // Webhook URL
    const DISCORD_WEBHOOK_URL = 'https://discord.com/api/webhooks/1470806458789789779/qYPxUhCU47XVPYXEreQB0iMovFFAXnKNlJuG0Hi3tQwTATtkV6QM51LQKKzwBYkyJuGS';

    // ãƒ•ã‚©ãƒ¼ãƒ ã¨é€šçŸ¥ã®è¨­å®š
    const CONFIG = {
        building: { 
            icon: 'ğŸ—ï¸', label: 'å»ºç¯‰å±Š', title: 'å»ºç¯‰å±Šã‚’å—ç†', color: 3447003, 
            warning: "âš ï¸ â€»æœ¬é€šçŸ¥ã¯ã€Œå±Šå‡ºã®å—ç†ã€ã‚’çŸ¥ã‚‰ã›ã‚‹ã‚‚ã®ã§ã‚ã‚Šã€ã€Œè¨±å¯ã€ã‚’æ„å‘³ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è¨±å¯ãŒé™ã‚Šã‚‹å‰ã«ä½œæ¥­ã‚’é–‹å§‹ã—ãŸå ´åˆã€å·®ã—æˆ»ã—ã‚„æ’¤å»å¯¾è±¡ã¨ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚",
            fields: [
                { label: 'ç”³è«‹è€…', name: 'ç”³è«‹è€…', required: true }, 
                { label: 'å ´æ‰€ï¼ˆåº§æ¨™ãªã©ï¼‰', name: 'å ´æ‰€', required: true }, 
                { label: 'è©³ç´°ï¼ˆä½¿ç”¨ç”¨é€”ãªã©ï¼‰', name: 'è©³ç´°', type: 'textarea' }
            ] 
        },
        shop: { 
            icon: 'ğŸ’°', label: 'åº—èˆ—é–‹è¨­', title: 'åº—èˆ—é–‹è¨­å±Šã‚’å—ç†', color: 15844367, 
            warning: "âš ï¸ â€»æœ¬é€šçŸ¥ã¯ã€Œå±Šå‡ºã®å—ç†ã€ã‚’çŸ¥ã‚‰ã›ã‚‹ã‚‚ã®ã§ã‚ã‚Šã€ã€Œè¨±å¯ã€ã‚’æ„å‘³ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è¨±å¯ãŒé™ã‚Šã‚‹å‰ã«å–¶æ¥­ã‚’é–‹å§‹ï¼ˆé–‹åº—ä½œæ¥­ãƒ»è²©å£²ï¼‰ã—ãŸå ´åˆã€è¡Œæ”¿å‡¦åˆ†ã®å¯¾è±¡ã¨ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚",
            fields: [
                { label: 'ç”³è«‹è€…', name: 'ç”³è«‹è€…', required: true },
                { label: 'åº—å', name: 'åº—å', required: true },
                { label: 'å ´æ‰€ï¼ˆåº§æ¨™ãªã©ï¼‰', name: 'å ´æ‰€', required: true },
                { label: 'å‚™è€ƒï¼ˆè²©å£²å½¢å¼ãƒ»ä¸»ãªå•†å“ãªã©ï¼‰', name: 'å‚™è€ƒ', type: 'textarea' }
            ] 
        },
        pioneer: { 
            icon: 'ğŸŒ²', label: 'é–‹æ‹“å±Š', title: 'é–‹æ‹“å±Šã‚’å—ç†', color: 3066993, 
            warning: "âš ï¸ â€»æœ¬é€šçŸ¥ã¯ã€Œå±Šå‡ºã®å—ç†ã€ã‚’çŸ¥ã‚‰ã›ã‚‹ã‚‚ã®ã§ã‚ã‚Šã€ã€Œè¨±å¯ã€ã‚’æ„å‘³ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è¨±å¯ãŒé™ã‚Šã‚‹å‰ã«åœ°å½¢ç ´å£Šã‚„æ•´åœ°ã‚’é–‹å§‹ã—ãŸå ´åˆã€åŸçŠ¶å›å¾©ã‚’å‘½ã˜ã‚‰ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚",
            fields: [
                { label: 'ç”³è«‹è€…', name: 'ç”³è«‹è€…', required: true }, 
                { label: 'ã‚¨ãƒªã‚¢', name: 'ã‚¨ãƒªã‚¢', required: true }, 
                { label: 'ç›®çš„', name: 'ç›®çš„', type: 'textarea' }
            ] 
        },
        disclosure: { 
            icon: 'ğŸ“‚', label: 'æƒ…å ±é–‹ç¤º', title: 'æƒ…å ±é–‹ç¤ºè«‹æ±‚ã‚’å—ç†', color: 3899382, 
            warning: "âš ï¸ ç¾åœ¨å¯©æŸ»ä¸­ã§ã™ã€‚é–‹ç¤ºã®å¯å¦ãŒæ±ºå®šã™ã‚‹ã¾ã§ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚",
            fields: [
                { label: 'ç”³è«‹è€…', name: 'ç”³è«‹è€…', required: true }, 
                { label: 'è«‹æ±‚å†…å®¹', name: 'è«‹æ±‚å†…å®¹', required: true }, 
                { label: 'ç†ç”±', name: 'ç†ç”±', type: 'textarea', required: true }
            ] 
        }
    };

    function showMenu() { 
        document.getElementById('form-view').style.display = 'none'; 
        document.getElementById('menu-view').style.display = 'grid'; 
        document.getElementById('status-msg').style.display = 'none'; 
    }

    function openForm(type) {
        const data = CONFIG[type];
        if (!data) return;
        const container = document.getElementById('form-container');
        document.getElementById('menu-view').style.display = 'none';
        document.getElementById('form-view').style.display = 'block';
        let html = `<div class="form-title">${data.icon} ${data.label}</div><form onsubmit="handleSubmit(event, '${type}')">`;
        data.fields.forEach(f => {
            html += `<div class="form-group"><label>${f.label}</label>`;
            if (f.type === 'textarea') html += `<textarea name="${f.name}" ${f.required ? 'required' : ''}></textarea>`;
            else html += `<input type="text" name="${f.name}" ${f.required ? 'required' : ''}>`;
            html += `</div>`;
        });
        html += `<button type="submit" class="submit-btn">ç”³è«‹ã‚’é€ä¿¡ã™ã‚‹</button></form>`;
        container.innerHTML = html;
    }

    async function handleSubmit(event, type) {
        event.preventDefault();
        const form = event.target;
        const config = CONFIG[type];
        const formData = new FormData(form);
        const btn = form.querySelector('.submit-btn');
        const statusBox = document.getElementById('status-msg');

        btn.disabled = true;
        btn.textContent = "é€ä¿¡ä¸­...";

        const fields = [];
        formData.forEach((value, key) => {
            fields.push({ name: `${key}`, value: value || "ãªã—", inline: false });
        });

        // Discordé€ä¿¡ãƒ‡ãƒ¼ã‚¿ã®æ§‹ç¯‰ (æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã—ã¾ã—ãŸ)
        const payload = {
            embeds: [{
                title: `${config.icon} ${config.title}`,
                color: config.color,
                description: "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nä¸‹è¨˜ã®å†…å®¹ã§ç”³è«‹ã‚’å—ç†ã„ãŸã—ã¾ã—ãŸã€‚\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”",
                fields: [
                    ...fields,
                    { name: "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€", value: `**${config.warning}**`, inline: false }
                ],
                footer: { text: "ã‚µãƒ¼ãƒãƒ¼æ”¿åºœç”³è«‹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ " },
                timestamp: new Date().toISOString()
            }]
        };

        try {
            const res = await fetch(DISCORD_WEBHOOK_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            if (res.ok) {
                statusBox.textContent = "âœ… æ­£å¸¸ã«å—ç†ã•ã‚Œã¾ã—ãŸã€‚\né‹å–¶ã‹ã‚‰ã®é€šçŸ¥ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚";
                statusBox.className = "success";
                statusBox.style.display = "block";
                form.reset();
            } else { throw new Error(); }
        } catch (e) {
            statusBox.textContent = "âŒ é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚";
            statusBox.className = "error";
            statusBox.style.display = "block";
        } finally {
            btn.disabled = false;
            btn.textContent = "ç”³è«‹ã‚’é€ä¿¡ã™ã‚‹";
        }
    }
</script>
</body>
</html>

